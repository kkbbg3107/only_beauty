# Only Beauty 薪資計算系統 - 員工分配邏輯調整

## 🔄 最新調整 (2025/07/06)

### 員工分配邏輯更新

**調整前：**
- K9-K15: 美容師
- N9-N15: 護理師  
- Q9-Q15: 櫃檯

**調整後：**
- **K9-K15 & N9-N15: 全部都是美容師** (共14個位置)
- **Q9-Q11: 護理師** (3個位置)
- **Q12-Q15: 櫃檯** (4個位置)

### 📊 Excel表格對應關係

```
美容師區域:
K9-K15: 美容師姓名      L9-L15: 美容師底薪        M9-M15: 美容師手技獎金
N9-N15: 美容師姓名      O9-O15: 美容師底薪        P9-P15: 美容師手技獎金

護理師區域:
Q9-Q11: 護理師姓名      R9-R11: 護理師底薪        S9-S11: 護理師手技獎金

櫃檯區域:
Q12-Q15: 櫃檯姓名       R12-R15: 櫃檯底薪         S12-S15: 櫃檯手技獎金
```

### 💰 薪資結構保持不變

#### 美容師 (K9-K15 + N9-N15)
- 底薪: 31,054元 (已含加班費)
- 手技獎金: 從M欄或P欄讀取
- 高標達標獎金: 5,000元
- **當月總薪資**: 底薪 + 手技獎金 + 高標達標獎金 (不含團體獎金)
- 團體業績/消耗獎金: 單獨顯示，不計入當月總薪資

#### 護理師 (Q9-Q11)
- 底薪: 31,175元 (已含加班費)
- 手技獎金: 從S欄讀取
- 執照津貼: 5,000元/月
- 全勤獎金: 2,000元 (季度發放)
- 高標達標獎金: 10,000元
- **當月總薪資**: 底薪 + 手技獎金 + 執照津貼 + 全勤獎金 + 高標達標獎金 (不含團體獎金)
- 團體業績/消耗獎金: 單獨顯示，不計入當月總薪資

#### 櫃檯 (Q12-Q15)
- 底薪: 31,054元 (已含加班費)
- 手技獎金: 從S欄讀取
- 職等獎金: 1,946元
- 職務津貼: 2,000元
- **當月總薪資**: 底薪 + 手技獎金 + 職等獎金 + 職務津貼
- 不參與團體獎金分配

### 🎯 團體獎金分配

- **參與人員**: 美容師 + 護理師
- **不參與**: 櫃檯
- **分配方式**: 美容師/護理師獎金池 ÷ (美容師人數 + 護理師人數)

### 📝 程式碼調整重點

```python
# 美容師資料 (K9-K15)
for row in range(8, 15):  # K9-K15
    name = excel_data.iloc[row, 10]  # K欄
    position = '美容師'

# 美容師資料 (N9-N15) 
for row in range(8, 15):  # N9-N15
    name = excel_data.iloc[row, 13]  # N欄
    position = '美容師'

# 護理師資料 (Q9-Q11)
for row in range(8, 11):  # Q9-Q11
    name = excel_data.iloc[row, 16]  # Q欄
    position = '護理師'

# 櫃檯資料 (Q12-Q15)
for row in range(11, 15):  # Q12-Q15
    name = excel_data.iloc[row, 16]  # Q欄
    position = '櫃檯'
```

### 📈 示範數據

假設有以下員工配置：
- K9-K15: 7位美容師
- N9-N15: 7位美容師  
- Q9-Q11: 3位護理師
- Q12-Q15: 4位櫃檯

**團體獎金分配：**
- 美容師/護理師總人數: 17人 (7+7+3)
- 每人分配: (業績獎金池 + 消耗獎金池) ÷ 17
- 櫃檯不參與分配

### 🔧 使用注意事項

1. **輸入人數**: 系統詢問"美容師/護理師總人數"時，請輸入實際的美容師+護理師人數
2. **空值處理**: 如果某個位置是空值，系統會自動跳過
3. **手技獎金**: 自動從對應欄位讀取 (M/P/S欄)
4. **高標達標**: 美容師5000元，護理師10000元，櫃檯不參與

### ✅ 調整完成項目

- [x] 更新 `get_individual_staff_data()` 方法
- [x] 調整員工位置分配邏輯
- [x] 更新示範數據 `demo_complete.py`
- [x] 更新說明文件
- [x] 創建測試腳本 `test_new_assignment.py`

這樣調整後，系統能更靈活地處理不同數量的美容師，同時保持護理師和櫃檯在固定位置的清晰分工。
